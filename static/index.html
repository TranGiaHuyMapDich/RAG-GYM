<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèãÔ∏è Gym RAG AI Assistant - Tr·ª£ L√Ω Gym Th√¥ng Minh</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <span class="logo-icon">üèãÔ∏è</span>
                <h1>Gym RAG AI Assistant</h1>
            </div>
            <nav class="nav" style="display: flex; align-items: center; gap: 15px;">
                <button class="nav-btn active" onclick="showTab('chat')">üí¨ Chat AI</button>
                <button class="nav-btn" onclick="showTab('workout-plan')">üìã K·∫ø Ho·∫°ch T·∫≠p</button>
                <button class="nav-btn" onclick="showTab('exercises')">üîç T√¨m B√†i T·∫≠p</button>
                <button class="nav-btn" onclick="showTab('stats')">üìä Th·ªëng K√™</button>
                
                <!-- User Info Display -->
                <div id="user-info-display" style="margin-left: auto; display: flex; align-items: center; gap: 10px;">
                    <div id="user-greeting" style="display: none; background: rgba(255, 201, 60, 0.15); padding: 8px 16px; border-radius: 20px; border: 1px solid rgba(255, 201, 60, 0.3);">
                        <span style="color: #ffc93c; font-weight: 500;">üë§ <span id="user-name-display"></span></span>
                    </div>
                    <button id="logout-btn" onclick="logout()" style="display: none; background: rgba(255, 59, 48, 0.2); color: #ff3b30; border: 1px solid rgba(255, 59, 48, 0.3); padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: all 0.3s;">
                        üö™ ƒêƒÉng xu·∫•t
                    </button>
                    <a href="/login" id="login-link" style="display: block; background: rgba(52, 199, 89, 0.2); color: #34c759; border: 1px solid rgba(52, 199, 89, 0.3); padding: 8px 16px; border-radius: 20px; text-decoration: none; font-size: 0.9rem; transition: all 0.3s;">
                        üîê ƒêƒÉng nh·∫≠p
                    </a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Chat Tab -->
            <div id="chat-tab" class="tab-content active">
                <div class="welcome-section">
                    <h2>ü§ñ Xin ch√†o! T√¥i l√† tr·ª£ l√Ω gym AI c·ªßa b·∫°n</h2>
                    <p>H·ªèi t√¥i b·∫•t c·ª© ƒëi·ªÅu g√¨ v·ªÅ gym: b√†i t·∫≠p, k·ªπ thu·∫≠t, dinh d∆∞·ª°ng, l·ªãch t·∫≠p...</p>
                    <div class="quick-questions">
                        <button onclick="askQuestion('B√†i t·∫≠p ng·ª±c cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu')">üí™ B√†i t·∫≠p ng·ª±c cho newbie</button>
                        <button onclick="askQuestion('C√°ch tƒÉng c∆° hi·ªáu qu·∫£')">üî• TƒÉng c∆° hi·ªáu qu·∫£</button>
                        <button onclick="askQuestion('B√†i t·∫≠p l∆∞ng v·ªõi t·∫° ƒë∆°n')">üèãÔ∏è B√†i t·∫≠p l∆∞ng</button>
                        <button onclick="askQuestion('Gi·∫£m m·ª° b·ª•ng nhanh')">‚ö° Gi·∫£m m·ª° b·ª•ng</button>
                    </div>
                </div>

                <div class="chat-container">
                    <div id="chat-messages" class="chat-messages"></div>
                    
                    <div class="chat-input-container">
                        <input 
                            type="text" 
                            id="chat-input" 
                            class="chat-input" 
                            placeholder="H·ªèi t√¥i v·ªÅ gym, b√†i t·∫≠p, dinh d∆∞·ª°ng..."
                            onkeypress="handleChatKeyPress(event)"
                        >
                        <button onclick="sendMessage()" class="send-btn">
                            <span>G·ª≠i</span> üöÄ
                        </button>
                    </div>
                </div>
            </div>

            <!-- Workout Plan Tab -->
            <div id="workout-plan-tab" class="tab-content">
                <div class="form-section">
                    <h2>üìã T·∫°o K·∫ø Ho·∫°ch T·∫≠p Luy·ªán C√° Nh√¢n</h2>
                    <p>ƒêi·ªÅn th√¥ng tin c·ªßa b·∫°n ƒë·ªÉ nh·∫≠n k·∫ø ho·∫°ch t·∫≠p luy·ªán ph√π h·ª£p</p>

                    <form id="workout-form" class="workout-form">
                        <div class="form-grid">
                            <!-- Body Type -->
                            <div class="form-group">
                                <label>üß¨ Lo·∫°i C∆° Th·ªÉ</label>
                                <select id="body-type" required>
                                    <option value="">Ch·ªçn lo·∫°i c∆° th·ªÉ...</option>
                                    <option value="ectomorph">Ectomorph (G·∫ßy, kh√≥ tƒÉng c√¢n)</option>
                                    <option value="mesomorph">Mesomorph (C∆° b·∫Øp, d·ªÖ tƒÉng c∆°)</option>
                                    <option value="endomorph">Endomorph (D·ªÖ tƒÉng c√¢n)</option>
                                </select>
                            </div>

                            <!-- Fitness Level -->
                            <div class="form-group">
                                <label>üìä Tr√¨nh ƒê·ªô</label>
                                <select id="fitness-level" required>
                                    <option value="">Ch·ªçn tr√¨nh ƒë·ªô...</option>
                                    <option value="Beginner">Beginner (M·ªõi b·∫Øt ƒë·∫ßu)</option>
                                    <option value="Intermediate">Intermediate (Trung c·∫•p)</option>
                                    <option value="Advanced">Advanced (N√¢ng cao)</option>
                                </select>
                            </div>

                            <!-- Goals -->
                            <div class="form-group">
                                <label>üéØ M·ª•c Ti√™u</label>
                                <select id="goals" required>
                                    <option value="">Ch·ªçn m·ª•c ti√™u...</option>
                                    <option value="muscle_gain">TƒÉng c∆° (Muscle Gain)</option>
                                    <option value="weight_loss">Gi·∫£m c√¢n (Weight Loss)</option>
                                    <option value="strength">TƒÉng s·ª©c m·∫°nh (Strength)</option>
                                    <option value="endurance">TƒÉng s·ª©c b·ªÅn (Endurance)</option>
                                    <option value="general_fitness">Th·ªÉ l·ª±c t·ªïng qu√°t</option>
                                </select>
                            </div>

                            <!-- Days per Week -->
                            <div class="form-group">
                                <label>üìÖ S·ªë Ng√†y T·∫≠p/Tu·∫ßn</label>
                                <select id="days-per-week" required>
                                    <option value="3">3 ng√†y/tu·∫ßn</option>
                                    <option value="4">4 ng√†y/tu·∫ßn</option>
                                    <option value="5">5 ng√†y/tu·∫ßn</option>
                                    <option value="6">6 ng√†y/tu·∫ßn</option>
                                </select>
                            </div>

                            <!-- Height -->
                            <div class="form-group">
                                <label>üìè Chi·ªÅu Cao (cm)</label>
                                <input type="number" id="height" placeholder="VD: 170" min="100" max="250">
                            </div>

                            <!-- Weight -->
                            <div class="form-group">
                                <label>‚öñÔ∏è C√¢n N·∫∑ng (kg)</label>
                                <input type="number" id="weight" placeholder="VD: 70" min="30" max="200">
                            </div>

                            <!-- Age -->
                            <div class="form-group">
                                <label>üéÇ Tu·ªïi</label>
                                <input type="number" id="age" placeholder="VD: 25" min="10" max="100">
                            </div>

                            <!-- Equipment -->
                            <div class="form-group full-width">
                                <label>üèãÔ∏è Thi·∫øt B·ªã C√≥ S·∫µn (gi·ªØ Ctrl ƒë·ªÉ ch·ªçn nhi·ªÅu)</label>
                                <select id="equipment" multiple size="5">
                                    <option value="Barbell">Barbell (T·∫° ƒë√≤n)</option>
                                    <option value="Dumbbell">Dumbbell (T·∫° ƒë∆°n)</option>
                                    <option value="Machine">Machine (M√°y)</option>
                                    <option value="Body Only">Body Only (T·ª± th√¢n)</option>
                                    <option value="Kettlebells">Kettlebells</option>
                                    <option value="Cable">Cable</option>
                                    <option value="Bands">Bands (D√¢y kh√°ng l·ª±c)</option>
                                </select>
                            </div>
                        </div>

                        <button type="submit" class="submit-btn">
                            üöÄ T·∫°o K·∫ø Ho·∫°ch T·∫≠p Luy·ªán
                        </button>
                    </form>

                    <div id="workout-plan-result" class="workout-plan-result"></div>
                </div>
            </div>

            <!-- Exercises Tab -->
            <div id="exercises-tab" class="tab-content">
                <div class="filter-section">
                    <h2>üîç T√¨m Ki·∫øm B√†i T·∫≠p</h2>
                    <p>L·ªçc b√†i t·∫≠p theo nh√≥m c∆°, thi·∫øt b·ªã v√† tr√¨nh ƒë·ªô</p>

                    <div class="filter-form">
                        <div class="filter-group">
                            <label>üí™ Nh√≥m C∆°</label>
                            <select id="filter-bodypart">
                                <option value="">T·∫•t c·∫£</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>üèãÔ∏è Thi·∫øt B·ªã</label>
                            <select id="filter-equipment">
                                <option value="">T·∫•t c·∫£</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label>üìä Tr√¨nh ƒê·ªô</label>
                            <select id="filter-level">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="Beginner">Beginner</option>
                                <option value="Intermediate">Intermediate</option>
                                <option value="Advanced">Advanced</option>
                            </select>
                        </div>

                        <button onclick="searchExercises()" class="filter-btn">
                            üîç T√¨m Ki·∫øm
                        </button>
                    </div>

                    <div id="exercises-result" class="exercises-result"></div>
                </div>
            </div>

            <!-- Stats Tab -->
            <div id="stats-tab" class="tab-content">
                <div class="stats-section">
                    <h2>üìä Th·ªëng K√™ Dataset</h2>
                    <div id="stats-content" class="stats-content">
                        <div class="loading">ƒêang t·∫£i...</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>üèãÔ∏è Gym RAG AI Assistant - Powered by AI & Machine Learning</p>
            <p>üí™ H∆°n 2900+ b√†i t·∫≠p gym ƒë∆∞·ª£c ph√¢n t√≠ch b·ªüi RAG AI</p>
        </div>
    </footer>

    <script src="/static/script.js"></script>
</body>
</html>

